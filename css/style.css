:root {
  /* 鍵盤上的寬高 */
  --standard-key-size: 5rem;

  /* 滑鼠觸發顏色 */
  --primary-color: #e6304a;
}

/* ------------------ 背景 ------------------ */

body {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  background-image: var(--color-bg);

  /* 禁用反白 */
  user-select: none;
  -webkit-user-select: none; /* 針對 Safari */
  -moz-user-select: none;    /* 針對 Firefox */
  -ms-user-select: none;     /* 針對 Internet Explorer/Edge */
}

#keyboard-mode {
  display: flex;
  flex-direction: column;
}

/* ------------------ 標題 ------------------ */

.intro {
  max-width: 130rem;
  margin: 0 auto;
  padding: 3.2rem 3.2rem 0rem;
}

.title span {
  background-image: var(--color-bg-title);

  /* 使用文字作為背景的遮罩 */
  /* 這將會讓漸層效果顯示在文字上，而不是在元素的背景上 */
  background-clip: text;
  -webkit-background-clip: text;
  -moz-background-clip: text;
  -webkit-text-fill-color: transparent;
  -moz-text-fill-color: transparent;
}

/* 切換模式按鈕 */
.mode-switcher {
  display: flex;
  justify-content: center;
  gap: 2rem;
  margin-bottom: 2rem;
}
.mode-switcher button {
  padding: 1rem 2rem;
  font-size: 1.8rem;
  cursor: pointer;
  border: none;
  border-radius: 0.5rem;
  background-color: var(--color-keycaps-bg-accent);
  color: var(--color-keycaps-legends-accent);
  transition: all 0.2s;
  box-shadow: var(--box-shadow-keycaps-accent);
}
.mode-switcher button:hover {
  transform: translateY(-0.2rem);
  box-shadow: var(--box-shadow-keycaps-accent-hover);
  color: var(--color-keycaps-legends);
}

/* 清除開關選擇 */
.checkbox-container {
  display: flex;
  justify-content: center;
  gap: 1.2rem;
  margin-bottom: 2rem;
}
.checkbox-container label {
  position: relative;
  display: flex;
  align-items: center;
  font-size: 1.8rem;
  font-weight: 500;
  color: var(--color-text-primary);
  cursor: pointer;
}
/* 隱藏瀏覽器預設的勾選框 */
.checkbox-container input[type="checkbox"] {
  display: none;
}
/* 撥桿開關的基座 */
.checkbox-container label::before {
  content: "";
  width: 4.8rem;
  height: 2.6rem;
  background-color: #ccc;
  border-radius: 5rem;
  margin-right: 1.2rem;
  transition: background-color 0.3s ease-in-out;
  border: 2px solid #888;
}
/* 撥桿本身 */
.checkbox-container label::after {
  content: "";
  position: absolute;
  left: 0.4rem;
  width: 1.8rem;
  height: 1.8rem;
  background-color: #fff;
  border-radius: 50%;
  transition: transform 0.3s ease-in-out;
  border: 2px solid #CCC;
}
/* 勾選後樣式 */
.checkbox-container input[type="checkbox"]:checked + label::before {
  background-color: var(--color-keycaps-bg-accent);
}
/* 勾選後撥桿移動 */
.checkbox-container input[type="checkbox"]:checked + label::after {
  transform: translateX(2.2rem);
}

.theme-and-layout {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  max-width: 120rem;
  margin: 0 auto 2.4rem;
  transition: all 0.25s;
}

.toggle-section {
  display: flex;
  justify-content: center;
  align-items: center;
}

.toggle-section span {
  font-size: 2.4rem;
  cursor: pointer;
}

/* 滑桿樣式 */

.slider-container {
  width: 80%;
  margin: 1.6rem auto;
  text-align: center;
}

.slider {
  width: 100%;
  transform: translateY(1.8rem);
}

/* 軌道樣式 */
input[type='range']::-webkit-slider-runnable-track {
  height: 8px;
  border-radius: 4px;
  background: linear-gradient(to right, #555555, #f1f3f5);
}

/* 滑塊樣式 */
input[type='range']::-webkit-slider-thumb {
  height: 24px;
  width: 24px;
  border-radius: 50%;
  background: #555; /* 滑塊顏色 */
  cursor: pointer;
  -webkit-appearance: none;
  transition: all 0.3s ease;
  transform: translateY(-0.4rem);
}

/* 滑塊 hover 時的效果 */
input[type='range']::-webkit-slider-thumb:hover {
  box-shadow: 0 0 10px rgb(84, 84, 84, 0.4);
  transform: translateY(-0.4rem) scale(1.2);
}

.slider-value {
  font-size: 2.4em;
  padding: 4px 8px;
  border-radius: 4px;
  color: #555; /* 尺寸提示的字體顏色 */
  background: #fff; /* 尺寸提示的背景 */
  box-shadow: 0 0 10px rgb(84, 84, 84, 0.1);
}

.theme-section {
  display: flex;
  justify-content: end;
  align-items: center;
  gap: 2rem;
}

.theme-section > div {
  display: flex;
  width: 4rem;
  height: 4rem;
  border-radius: 50%;
  overflow: hidden;
  cursor: pointer;
}

/* 添加 hover 圖片使用 */
.theme-section div {
  position: relative;
  overflow: hidden; /* 隱藏超出邊界的內容 */
}

.theme-section div::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-size: cover;
  background-position: center;
  opacity: 0; /* 預設為隱藏 */
  transition: opacity 0.3s ease-in-out; /* 平滑過渡效果 */
  z-index: 10; /* 確保圖層在顏色條紋之上 */
}

/* hover 時顯示圖片 */
.theme-section div:hover::after {
  opacity: 1;
}

.theme-color {
  width: 25%;
}

/* 主題區域按鈕 */
/* retro 復古 */
.retro div:nth-child(1) {
  background-color: #3c3e4a;
}

.retro div:nth-child(2) {
  background-color: #f8f9fa;
}

.retro div:nth-child(3) {
  background-color: #a4a9b0;
}

.retro div:nth-child(4) {
  background-color: #2f3674;
}

/* navy-blue 海軍藍 */
/* .navy-blue div:nth-child(1) {
  background-color: #2a309c;
}

.navy-blue div:nth-child(2) {
  background-color: #3d489b;
}

.navy-blue div:nth-child(3) {
  background-color: #a4a9b0;
}

.navy-blue div:nth-child(4) {
  background-color: #2f3674;
} */

/* Cyberpunk 賽博龐克 */
.cyberpunk div:nth-child(1) {
  background-color: #00ffff;
}

.cyberpunk div:nth-child(2) {
  background-color: #ff00ff;
}

.cyberpunk div:nth-child(3) {
  background-color: #f72585;
}

.cyberpunk div:nth-child(4) {
  background-color: #3a0ca3;
}

/* Cyberpunk2077 電馭叛客 */
.cyberpunk2077 div:nth-child(1) {
  background-color: #faff00;
}

.cyberpunk2077 div:nth-child(2) {
  background-color: #00f2ea;
}

.cyberpunk2077 div:nth-child(3) {
  background-color: #ff69b4;
}

.cyberpunk2077 div:nth-child(4) {
  background-color: #121212;
}

.cyberpunk2077::after {
  background-image: url('../img/Cyberpunk2077.png'); /* 電馭叛客圖片 */
}

/* EVA 初號機 */
.eva-01 div:nth-child(1) {
  background-color: #4b1a5a; /* 紫色 */
}
.eva-01 div:nth-child(2) {
  background-color: #1f3f37; /* 深綠色 */
}
.eva-01 div:nth-child(3) {
  background-color: #02f893; /* 螢光綠 */
}
.eva-01 div:nth-child(4) {
  background-color: #ff851b; /* 亮橘色 */
}

.eva-01::after {
  background-image: url('../img/EVA01.png'); /* EVA 初號機圖片 */
}

/* ------------------ 鍵盤部分 ------------------ */

.keyboard {
  display: grid;
  margin: 0 auto;
  padding: 0.8rem;
  border-radius: 0.4rem;
  background-color: var(--color-keyboard);
  box-shadow: 0 0.4rem 0 0.6rem var(--color-keyboard-border),
    0 1.2rem 3.2rem rgba(0, 0, 0, 0.1);

  /* 強制使用 GPU 加速 排除子渲染問題 */
  transform: translateZ(0);

  transition: all 0.2s;
}


/* 全尺寸布局 */
.full-size {
  grid-template-columns: 215fr 2fr 45fr 1fr 60fr;
  max-width: 122rem;
}

/* TKL布局 */
.tkl {
  grid-template-columns: 215fr 7fr 45fr;
  max-width: 100rem;
}

/* 75%布局 */
.seventy-five-percent {
  grid-template-columns: 79rem 0 16.5rem;
  max-width: 86rem;
}

/* 65%布局 */
.sixty-five-percent {
  grid-template-columns: 79rem 0 16.5rem;
  max-width: 86rem;
}

.key {
  width: 100%;
  height: var(--standard-key-size);
  display: flex;
  justify-content: center;
  align-items: center;

  border-radius: var(--key-border-radius);
  font-size: 1.2rem;
  font-weight: 700;

  color: var(--color-keycaps-legends);
  background-color: var(--color-keycaps-bg);
  box-shadow: var(--box-shadow-keycaps);
  cursor: pointer;

  transition: all 0.075;
}

.key--accent-color {
  color: var(--color-keycaps-legends-accent);
  background-color: var(--color-keycaps-bg-accent);
  box-shadow: var(--box-shadow-keycaps-accent);
}

/* 透過新增 .key 類別來提高樣式的優先級 */
.key.key--pressed {
  color: var(--color-keycaps-legends-pressed);
  background-color: var(--color-keycaps-bg-pressed);
  box-shadow: var(--box-shadow-keycaps-pressed);
}

/* key pressing simulation 這個類別是用來在 JavaScript 中使用的 */
.key:hover,
.key--accent-color:hover,
.key--pressed:hover,
.key-pressing-simulation {
  transform: scale(0.98);
  box-shadow: var(--box-shadow-keycaps-hover);
}

.key--accent-color:hover {
  box-shadow: var(--box-shadow-keycaps-accent-hover);
}

.key--pressed:hover,
.key-pressing-simulation {
  box-shadow: var(--box-shadow-keycaps-pressed-hover);
}

.key.key-pressing-simulation {
  color: var(--color-keycaps-legends-pressing);
}

/* __________________________________
   ||||||||||||||||||||||||||||||||||
   ||||       鍵盤布局的樣式      ||||
   ||||||||||||||||||||||||||||||||||
*/

.region {
  padding: 0.5rem;
  gap: 0.25rem;
}

/* ESC 和 F區 */
.function {
  display: grid;
  grid-template-columns: 2fr 2fr repeat(4, 2fr) 1fr repeat(4, 2fr) 1fr repeat(
      4,
      2fr
    );
}

/* 上方截圖控制區 (Prt Sc|Scr lck|Pause) */
.system-control {
  grid-column: 3;
  display: grid;
  grid-template-columns: repeat(3, 1fr);
}

/* 快捷鍵 和 打字區 (Ctrl|Alt|etc.) & (A-Z) */
.typewriter {
  grid-row: 2;
  display: grid;
}

.first-row,
.second-row,
.third-row,
.fourth-row,
.fifth-row {
  display: grid;
  justify-items: center;
  gap: 0.25rem;
}

.first-row {
  grid-template-columns: repeat(13, 1fr) 2fr;
}

.second-row {
  grid-template-columns: 1.5fr repeat(12, 1fr) 1.5fr;
}

.third-row {
  grid-template-columns: 1.79fr repeat(11, 1fr) 2.29fr;
}

.fourth-row {
  grid-template-columns: 2.29fr repeat(10, 1fr) 2.79fr;
}

.fifth-row {
  grid-template-columns: repeat(3, 1.29fr) 6.36fr repeat(4, 1.29fr);
}

/* 方向鍵上方六格功能 (PgUp|PgDn|etc.) & 方向鍵 */
.navigation {
  grid-column: 3;

  display: grid;
  grid-template-columns: repeat(3, 1fr);
  grid-template-rows: repeat(5, 1fr);
}

/* 數字區 */
.numpad {
  grid-column: 5;

  display: grid;
  grid-template-columns: repeat(4, 1fr);
  grid-template-rows: repeat(5, 1fr);
}

/* _______________________________
   |||||||||||||||||||||||||||||||
   ||||     特定按鍵風格     ||||||
   |||||||||||||||||||||||||||||||
*/

/**************************/
/*         打字區         */
/**************************/

/* 使用子圖案來設定鍵的樣式 */
.key--sublegend {
  display: grid;
  grid-template-rows: 1fr auto auto 1fr;
  padding-top: 0.8rem;
  gap: 0.1rem;
}

.key--sublegend span:nth-child(odd),
.key--sublegend span:nth-child(even) {
  width: 100%;
  text-align: center;
  grid-row: 1;
}

.key--sublegend span:nth-child(even) {
  grid-row: 2;
}

/* 將Entel鍵設定為返回符號  */
.enter span {
  transform: translateY(-0.25rem);
  font-size: 2.8rem;
}

/* 視窗和上下文選單圖示 */
.metaleft svg {
  width: 1.8rem;
  height: 1.8rem;
  fill: var(--color-keycaps-legends);
}

.metaleft .key--accent svg {
  fill: var(--color-keycaps-legends-accent);
}

.metaleft.key--pressed svg {
  fill: var(--color-keycaps-legends-pressed);
}

.metaleft.key-pressing-simulation svg {
  fill: var(--color-keycaps-legends-pressing);
}

.metaright svg {
  width: 1.8rem;
  height: 1.8rem;
  fill: var(--color-keycaps-legends);
}

.metaright .key--accent svg {
  fill: var(--color-keycaps-legends-accent);
}

.metaright.key--pressed svg {
  fill: var(--color-keycaps-legends-pressed);
}

.metalright.key-pressing-simulation svg {
  fill: var(--color-keycaps-legends-pressing);
}

.contextmenu svg {
  width: 2rem;
  height: 2rem;
  stroke: var(--color-keycaps-legends);
  fill: none;
}

.contextmenu .key--accent svg {
  stroke: var(--color-keycaps-legends-accent);
}

.contextmenu.key--pressed svg {
  stroke: var(--color-keycaps-legends-pressed);
}

.contextmenu.key-pressing-simulation svg {
  stroke: var(--color-keycaps-legends-pressing);
}

/* 空白鍵圖案 */
.space span {
  transform: translateY(-1.6rem);
  font-size: 1.6rem;
}

/* 側鍵文字對齊 */
.backquote,
.tab,
.capslock,
.shiftleft,
.controlleft {
  justify-content: left;
  padding-left: 1.6rem;
}

.backspace,
.enter,
.shiftright,
.controlright {
  justify-content: right;
  padding-right: 1.6rem;
}

/**************************/
/*    方向鍵上方六格功能    */
/**************************/

.arrowup {
  grid-column: 2;
  grid-row: 4;
}

.arrowleft,
.arrowdown,
.arrowright {
  grid-row: 5;
}

.arrowup svg,
.arrowleft svg,
.arrowdown svg,
.arrowright svg {
  width: 1.2rem;
  height: 1.2rem;
  fill: var(--color-keycaps-legends);
}

.arrowup.key--pressed svg,
.arrowleft.key--pressed svg,
.arrowdown.key--pressed svg,
.arrowright.key--pressed svg {
  fill: var(--color-keycaps-legends-pressed);
}

.arrowup.key-pressing-simulation svg,
.arrowleft.key-pressing-simulation svg,
.arrowdown.key-pressing-simulation svg,
.arrowright.key-pressing-simulation svg {
  fill: var(--color-keycaps-legends-pressing);
}

/**********************/
/* 數字鍵盤區域鍵 */
/**********************/

.numpadadd {
  grid-column: 4;
  grid-row: 2 / span 2;
  height: 100%;
}

.numpadenter {
  grid-column: 4;
  grid-row: 4 / span 2;
  height: 100%;
}
.numpad0 {
  grid-column: 1 / span 2;
}

/* _____________________________________
   |||||||||||||||||||||||||||||||||||||
   ||||      改變布局時的動畫      ||||||
   |||||||||||||||||||||||||||||||||||||
*/

.numpad {
  transition: all 0.15s;
}

/* 從全尺寸鍵盤移除數字鍵盤的步驟 */
.hidden--step1 {
  /* 1) 隱藏顯示 */
  opacity: 0;
  /* 2) 讓滑鼠鍵盤無法操作 */
  pointer-events: none;
  /* 3) 在螢幕上隱藏 */
  visibility: hidden;

  transition: all 0.15;
}

.hidden--step2 {
  width: 0;
  padding: 0;
}


/* ------------------ 資訊顯示區域樣式 ------------------ */
.key-info {
  max-width: 120rem;
  margin: 0 auto;
  padding: 0 2.4rem 2.4rem 2.4rem;
  background-color: var(--color-background-secondary);
  border: 1px solid var(--color-border);
  border-radius: 0.8rem;
  box-shadow: var(--shadow-small), var(--shadow-medium);
  text-align: left;
  color: var(--color-text-primary);
  font-family: var(--font-family-segoe-ui);
}

.key-info .info-box {
  display: grid;
  /* 確保最小寬度，且內容增加時可以延伸 */
  grid-template-columns: repeat(4, 12rem);
  gap: 2rem;
  justify-items: center;
}

.key-info p {
  font-size: 1.6rem;
  margin: 0;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
}

.key-info span {
  font-size: 2.4rem;
  font-weight: 700;
  color: var(--color-accent);
  transition: color 0.2s ease-in-out;
}

/* 核心樣式：使用定位來放置數字和單位 */
.value-and-unit-container {
  position: relative; /* 讓 .unit 可以相對它定位 */
}

.key-info .unit {
  position: absolute;
  font-size: 1.6rem;
  font-weight: 400;
  color: var(--color-text-primary);
  padding-top: 10px;
  margin-left: 0.5rem; /* 數字與單位的間距 */
}


/* ------------------ 滑鼠模式使用 ------------------ */

/* 內容區 flex 對齊 */
.content {
  flex: 1 0 auto;
}

/* 滑鼠區 */
#mouse-container{
  text-align:center;
  margin: auto;
  width: 100%;
  position: relative;
  user-select: none;
  max-width: 122rem;
  border-radius: 30px;
}
/* 滑鼠圖片 */
#mouse {
  width: 100%;
  max-width:450px;
}

/* 按下時 */
.active{
  opacity:0.7;
}
/* 按下後 */
.visited{
  opacity:0.3;
}
/* 無按下初始隱藏 */
.non-active{
  opacity:0.0;
}

/* 滾輪往前 */
.st1, .st3{
  fill: var(--primary-color);
  /* 雷蛇綠 */
  /* fill:#32CD32; */
}
.st2{
  fill:none;
  stroke:#e6304a;
  stroke-miterlimit:10;
}
@media (max-width:1367px){
  #mouse {
    max-width:350px;
  }
}




/* ------------------ 頁尾 ------------------ */

.footer {
  flex-grow: 1; /* 填滿剩餘空間 */

  display: flex;
  justify-content: center;
  align-items: end;
  padding: 3.2rem 0 2.4rem;
}

.footer-text {
  font-size: 1.6rem;
}

.footer-text svg {
  width: 2.4rem;
  height: 2.4rem;
  transform: translateY(0.5rem);
  fill: var(--color-primary);
}
